name: "OpenEVSE PV Load Manager"
version: "2.1.0"
slug: openevse_pv_loadmanager
description: "PV-aware load management for up to 3 OpenEVSE charging stations with 32A supply limit"
url: "https://github.com/Obili69/OpenEVSE_ADDON_OBR"
arch:
  - amd64
  - aarch64
  - armv7
startup: application
boot: auto
homeassistant_api: true
options:
  stations:
    - name: "roller1"
      charging_current_entity: "sensor.roller1_charging_current"
      charging_status_entity: "sensor.roller1_charging_status"
      charge_rate_entity: "number.roller1_charge_rate"
      override_state_entity: "select.roller1_override_state"
      vehicle_connected_entity: "sensor.roller1_vehicle_connected"
    - name: "roller2"
      charging_current_entity: "sensor.roller2_charging_current"
      charging_status_entity: "sensor.roller2_charging_status"
      charge_rate_entity: "number.roller2_charge_rate"
      override_state_entity: "select.roller2_override_state"
      vehicle_connected_entity: "sensor.roller2_vehicle_connected"
    - name: "roller3"
      charging_current_entity: "sensor.roller3_charging_current"
      charging_status_entity: "sensor.roller3_charging_status"
      charge_rate_entity: "number.roller3_charge_rate"
      override_state_entity: "select.roller3_override_state"
      vehicle_connected_entity: "sensor.roller3_vehicle_connected"
  pv_sensor_entity_id: "sensor.grid_import_power"
  total_current_limit: 32
  voltage: 230
  hysteresis_threshold: 2.0
  hysteresis_delay: 10
  ramp_up_delay: 30
  measurement_interval: 5
  initial_mode: "pv_plus_grid"
schema:
  stations:
    - name: str
      charging_current_entity: str
      charging_status_entity: str
      charge_rate_entity: str
      override_state_entity: str
      vehicle_connected_entity: str
  pv_sensor_entity_id: str
  total_current_limit: "int(6,80)"
  voltage: "int(100,400)"
  hysteresis_threshold: "float(0,20)"
  hysteresis_delay: "int(0,120)"
  ramp_up_delay: "int(0,300)"
  measurement_interval: "int(1,60)"
  initial_mode: "list(pv_only|pv_plus_grid)"
